

var array_cakes = {
    "cake1" : {
        "img" : "img/cake1.jpg",
        "cakeName" : "Торт з полуницею та вершками",
        "price" : "360 грн",
        "description" : "Цей ніжний десерт уособлює прихід весни з яскравою полуницею та легкими вершками.Полуниця – це король сезону, і наш торт збагачений яскравими полуничними шарами. Соковиті та стиглі ягоди надають торту неповторного смаку і ніжного аромату, який нагадує про яскраві сонячні дні. Вершки – це ідеальне доповнення до полуничного смаку. Вони надають торту ніжність та легкість, створюючи гармонійне поєднання текстур та смаків. (Ціна вказана за 1 кг) ",
        "type": "branded_cakes"
    },
    "cake2" : {
        "img" : "img/cake2.jpg",
        "cakeName" : "Торт пісочний с ягодами",
        "price" : "320 грн",
        "description" : "Цей неймовірно смачний десерт є хрустким пісковим тістом, що поєднується з яскравими і соковитими ягодами. Свіжі полуниці, малина, чорниця або інші сезонні ягоди додають чудовий та освіжаючий смак, який нагадує про яскраві та теплі літні дні. Пісочне тісто – це головна зірка цього десерту. Воно хрумтить при кожному укусі, створюючи прекрасний контраст з ніжними ягодами та вершками. Текстура пісочного тіста робить цей торт по-справжньому унікальним.(Ціна вказана за 1 кг) ",
        "type": "branded_cakes"
    },
    "cake3" : {
        "img" : "img/cake3.jpg",
        "cakeName" : "Торт шоколадный с орехами",
        "price" : "350 грн",
        "description" : "lorem gfgfgf",
        "type": "branded_cakes"
    },
    "cake4" : {
        "img" : "img/123456.jpeg",
        "cakeName" : "Чизкейк",
        "price" : "370 грн",
        "description" : "lorem gfgfgf",
        "type": "branded_cakes"
    },
    "cake5" : {
        "img" : "img/cake1.jpg",
        "cakeName" : "Торт с клубникой и сливками",
        "price" : "420 грн",
        "description" : "lorem gfgfgf",
        "type": "branded_cakes"
    },
    "cake6" : {
        "img" : "img/cake2.jpg",
        "cakeName" : "Торт песочный с ягодами",
        "price" : "410 грн",
        "description" : "lorem gfgfgf",
        "type": "branded_cakes"
    },
    "cake7" : {
        "img" : "img/cake3.jpg",
        "cakeName" : "Торт шоколадный с орехами",
        "price" : "350 грн",
        "description" : "lorem gfgfgf",
        "type": "branded_cakes"
    },
    "cake8" : {
        "img" : "img/6.png",
        "cakeName" : "Чизкейк",
        "price" : "370 грн",
        "description" : "lorem gfgfgf",
        "type": "branded_cakes"
    },
    "cake9" : {
        "img" : "img/cake1.jpg",
        "cakeName" : "Торт с клубникой и сливками",
        "price" : "420 грн",
        "description" : "lorem gfgfgf",
        "type": "cakes_to_order"
    },
    "cake10" : {
        "img" : "img/cake2.jpg",
        "cakeName" : "Торт песочный с ягодами",
        "price" : "410 грн",
        "description" : "lorem gfgfgf",
        "type": "cakes_to_order"

    },
    "cake11" : {
        "img" : "img/cake3.jpg",
        "cakeName" : "Торт шоколадный с орехами",
        "price" : "350 грн",
        "description" : "lorem gfgfgf",
        "type": "cakes_to_order"
    },
    "cake12" : {
        "img" : "img/6.png",
        "cakeName" : "Чизкейк",
        "price" : "370 грн",
        "description" : "lorem gfgfgf",
        "type": "cakes_to_order"
    },
    "cake13" : {
        "img" : "img/cake1.jpg",
        "cakeName" : "Торт с клубникой и сливками",
        "price" : "420 грн",
        "description" : "lorem gfgfgf",
        "type": "cakes_to_order"
    },
    "cake14" : {
        "img" : "img/cake1.jpg",
        "cakeName" : "Торт песочный с ягодами",
        "price" : "410 грн",
        "description" : "lorem gfgfgf",
        "type": "cakes_to_order"
    },
    "cake15" : {
        "img" : "",
        "cakeName" : "Торт шоколадный с орехами",
        "price" : "350 грн",
        "description" : "lorem gfgfgf",
        "type": "cakes_to_order"
    },
    "cake16" : {
        "img" : "img/4.png",
        "cakeName" : "Чизкейк",
        "price" : "370 грн",
        "description" : "lorem gfgfgf",
        "type": "cakes_to_order"
    },
    "cake17" : {
        "img" : "img/pavlova.jpg",
        "cakeName" : "Тістечка 'Павлова'",
        "price" : "200 грн",
        "description" : "Наші тістечка `Павлова` починають свій шлях із повітряних білкових коржів, які обпалюються до золотистої хрусткої кірки з ніжним та м'яким серцем. Потім їх прикрашають рясним шаром збитих вершків та свіжими фруктами, створюючи симфонію текстур та смаків, які просто тануть у роті.Ми пропонуємо різноманітність варіантів для наших тістечок . Від класичної версії з полуницею та малиною до більш екзотичних комбінацій із маракуєю, манго та шоколадом. Незалежно від вашого вибору, кожен укус буде наповнений свіжістю та яскравістю смаку. (Ціна вказана за 6 штук)",
        "type": "cupcakes"
    },
    "cake18" : {
        "img" : "img/cupcake_red_heart.jpg",
        "cakeName" : "Капкейки з фруктовим желе",
        "price" : "160 грн",
        "description" : "Ми пропонуємо широкий вибір фруктових варіантів для наших капкейків. Від соковитої полуниці та ароматних манго до яскравого цитрусового смаку та солодких вишень. Незалежно від вашого вибору, кожен капкейк приносить із собою літнє освіження та яскравий смак фруктів. (Ціна вказана за 6 штук)",
        "type": "cupcakes"

    },
    "cake19" : {
        "img" : "img/cupcake_choko.jpg",
        "cakeName" : "Капкейки шоколадні з кремом",
        "price" : "170 грн",
        "description" : "Ми пропонуємо різноманітність варіантів для наших шоколадних капкейків. Від класичної ванільної начинки до більш вишуканих комбінацій з горіхами, ягодами, карамеллю та шоколадною глазур'ю. Ви можете вибрати варіант, який задовольнить ваш смак. (Ціна вказана за 6 штук)",
        "type": "cupcakes"
    },
    "cake20" : {
        "img" : "img/beze_heart.jpg",
        "cakeName" : "Безе класичне",
        "price" : "120 грн",
        "description" : "Безе - це десерт, який надихає своєю легкістю та легкістю. Наші кондитери уважно стежать за кожною деталлю під час створення безе, щоб досягти ідеальної текстури. Кожен укус безе розчиняється у роті, залишаючи відчуття ніжності та насиченого смаку.Безе - це чудове частування для будь-якого випадку. Воно може прикрасити ваш кавовий стіл, стати солодким подарунком або доповненням до святкової вечері. Класичне безе завжди актуальне і чудове. (Ціна вказана за 6 штук) ",
        "type": "cupcakes"
    },
    "cake21" : {
        "img" : "img/beze_vanil.jpg",
        "cakeName" : "Ванільне безе з шоколадом",
        "price" : "140 грн",
        "description" : "Ванільні безе з шоколадом - це ніжні та смачні ласощі, які поєднують у собі ніжність ванільного смаку з інтенсивним ароматом шоколаду. Цей десерт є справжньою знахідкою для любителів солодких задоволень та справжніх гурманів. Цей десерт відрізняється легкістю та ніжністю текст цьому він багатий смаком ванілі та шоколаду. Ванільне безе з шоколадом можна прикрасити свіжими ягодами або полуницею і подати на десерт до чашки ароматної кави або чаю. (Ціна вказана за 6 штук)",
        "type": "cupcakes"
    },
    "cake22" : {
        "img" : "img/profitrol.jpg",
        "cakeName" : "Профітролі",
        "price" : "120 грн",
        "description" : "Профітролі – невеликі, але неймовірно смачні та популярні солодощі, які завоювали серця гурманів по всьому світу. Наші профітролі - це справжній витвір мистецтва кондитерської майстерності. Їхній неповторний смак і ніжна текстура приведуть вас у захват. Ми пропонуємо широкий вибір начинок для наших профітролів. Від класичної ванільної крем-начинки до вишуканих варіантів із шоколадом, горіхами та фруктами. У нас є профітролі для всіх ваших уподобань та настроїв. (Ціна вказана за 6 штук)",
        "type": "cupcakes"
    },
    "cake23" : {
        "img" : "img/biskvit.jpg",
        "cakeName" : "Бісквітні тістечка",
        "price" : "120 грн",
        "description" : "Ми раді представити вам наші вишукані бісквітні тістечка - чарівне поєднання ніжного бісквіту, кремових начинок та неповторного смаку, що запам'ятовується з першого укусу. Наші бісквітні тістечка - це справжній витвір мистецтва кондитерської майстерності, створений з любов'ю та пристрастю до солодощів. Наші тістечка пропонують необмежений світ смакових відчуттів. Від класичної ванільної начинки до ексклюзивних комбінацій із шоколадом, горіхами, ягодами та багатьма іншими інгредієнтами. (Ціна вказана за 6 штук)",
        "type": "cupcakes"
    },
    "cake24" : {
        "img" : "img/cupcake.jpg",
        "cakeName" : "Капкейки з кремом",
        "price" : "120 грн",
        "description" : "Кожен наш капкейк - це витвір мистецтва, в якому поєднуються вишуканий смак та барвистий дизайн. Ми пропонуємо різноманітність варіантів начинок та топпінгів, дозволяючи вам вибирати та створювати свій ідеальний капкейк. Шоколадні, ванільні, фруктові – у нас є варіанти для кожного смаку! (Ціна вказана за 6 штук)",
        "type": "cupcakes"
    }


}



window.onload = function Anna() {

    function Loader() {
        window.setTimeout(function() {
          var loader = document.getElementById("loader");
        loader.style.visibility = "hidden";
     }, 2000)
    
    }
    Loader()
    console.log(array_cakes)
    
        
    for (key in array_cakes) {   
        
        Mon()
    }


    branded_cakes.onclick = function OpenBranded(){
            
        while (container1.firstChild) {
          container1.removeChild(container1.firstChild)
        }
      
        for (key in array_cakes) {
            if (array_cakes[key].type == "branded_cakes") {
            
            Mon()
            
            }
        
        }
        location.href = "#catalog" 
    }


    cakes_to_order.onclick = function OpenToOrder(){
            
        while (container1.firstChild) {
          container1.removeChild(container1.firstChild)
        }
      
        for (key in array_cakes) {
            if (array_cakes[key].type == "cakes_to_order") {
            
            Mon()
            
            }
        
        }
       location.href = "#catalog" 
    }

    cupcakes.onclick = function OpenCupcakes(){
            
        while (container1.firstChild) {
          container1.removeChild(container1.firstChild)
        }
      
        for (key in array_cakes) {
            if (array_cakes[key].type == "cupcakes") {
            
            Mon()
            
            }
        
        }
        location.href = "#catalog" 
    }
    
        
        function Mon() {
           var out_img = ""    
           var out_name = ""
           var out_price = ""
           var out_description = ""
           var out_type = ""

           out_img = '<img src= "' + array_cakes[key].img + '">' + "<br>"
           out_name = array_cakes[key].cakeName + "<br>"
           out_price = array_cakes[key].price + "<br>"
           out_description = array_cakes[key].description+ "<br>"
           out_type = array_cakes[key].type

           var newDiv = document.createElement('div')
           container1.appendChild(newDiv)
           var newImg = document.createElement('div')
           newDiv.appendChild(newImg)
           var newName = document.createElement('div')
           newDiv.appendChild(newName)
           var newPrice = document.createElement('div')
           newPrice.classList.add("price")
           newDiv.appendChild(newPrice)
           var newDescription = document.createElement('div')
           newDescription.classList.add("descript")
           newDiv.appendChild(newDescription)
           newDescription.style.display = "none"
           var newType = document.createElement('div')
           newType.classList.add("type")
           newDiv.appendChild(newType)
   
           newType.style.display = "none"
    
           var card_open = document.createElement('div')
           card_open.innerHTML = "Детальніше"
           card_open.classList.add("submit")
           newDiv.appendChild(card_open)
    
           var sub = document.createElement('div')
           sub.innerHTML = "Розрахувати вартість"
           sub.classList.add("submit")
           newDiv.appendChild(sub)

           newImg.innerHTML = out_img
           newName.innerHTML = out_name
           newPrice.innerHTML = out_price
           newDescription.innerHTML = out_description
           newType.innerHTML = out_type
    
    
           newName.classList.add("new_name")
    
           newDiv.classList.add("block")

           
  
           
        // Функция открытия карточки товара
        card_open.onclick = function OpenCard(event) {
            
            activ.style.display = "block"
            appendDivCart.style.visibility = "visible"
            document.body.style.overflow = "hidden"
            
            var but = event.target
         
            var cakes = but.parentNode
         
            var img = cakes.childNodes[0]
           
            var cakeImg = img.childNodes[0]
            
            cakeImg.classList.add("sm2")
        
     
            var cake = cakes.childNodes[1]
            var cakeName = cake.childNodes[0].nodeValue
            
            var price_cake = cakes.childNodes[2]
            var cakePrice = price_cake.childNodes[0].nodeValue //+ " / 1 кг"
            var descript = cakes.childNodes[3]
            var descriptText = descript.childNodes[0].nodeValue
            console.log(descriptText);
            var cakeDiv = document.createElement('div')
            var cakeText = document.createElement('div')
            var cakeNameDiv = document.createElement('div')
            var cakeImgDiv = document.createElement('div')
            var cakeSubmits = document.createElement('div')
            cakeSubmits.classList.add("submits")
            //var cakeSum = document.createElement('div')
            //cakeSum.style.backgroundColor = "white"
            //cakeSum.style.width = 20 + "px"
           // cakeSum.style.height = 20 + "px"
    
     
              
            cakeNameDiv.innerText = cakeName + " " + "("+ cakePrice + ")"
            //cakeNameDiv.style.width = 500 + "px"
     
            cakeImgDiv.appendChild(cakeImg)   
               
            cakeDiv.appendChild(cakeNameDiv)
            cakeDiv.appendChild(cakeImgDiv) 
            
            cakeText.innerText = descriptText
    
            appendDivCart.appendChild(cakeDiv)
            appendDivCart.appendChild(cakeText)

            console.log(cakeText)
     
            newImg.innerHTML = out_img
         
            cakeDiv.classList.add("inp2")
            cakeText.classList.add("cake_text")
            
            // Закрытие карточки
            cart_close.onclick = function closeWindow() {
           
              appendDivCart.removeChild(cakeDiv)
              appendDivCart.removeChild(cakeText)
              appendDivCart.style.visibility = "hidden"
              activ.style.display = "none"
              document.body.style.overflow = ""
             }
             
        }
            
        //Функция открытия калькулятора
        sub.onclick = function getName(event) {
            activ.style.display = "block"
            form.style.visibility = "visible"
            document.body.style.overflow = "hidden"

            var but = event.target
         
            var cakes = but.parentNode
         
            var img = cakes.childNodes[0]
           
            var cakeImg = img.childNodes[0]
            
            cakeImg.classList.add("sm")
        
     
            var cake = cakes.childNodes[1]
            var cakeName = cake.childNodes[0].nodeValue
            
            var price_cake = cakes.childNodes[2]
            var cakePrice = price_cake.childNodes[0].nodeValue + " / 1 кг"
            var cakeDiv = document.createElement('div')
            var cakeNameDiv = document.createElement('div')
            var cakeImgDiv = document.createElement('div')
            var cakeSubmits = document.createElement('div')
            cakeSubmits.classList.add("submits")
            var cakeSum = document.createElement('div')
            cakeSum.style.backgroundColor = "white"
            cakeSum.style.width = 20 + "px"
            cakeSum.style.height = 20 + "px"
     
              
            cakeNameDiv.innerText = cakeName + " " + "("+ cakePrice + ")"
            console.log(cakeName);
            cakeNameDiv.style.width = 500 + "px"
     
            cakeImgDiv.appendChild(cakeImg)   
               
            cakeDiv.appendChild(cakeNameDiv)
            cakeDiv.appendChild(cakeImgDiv) 
         
            appendDiv.appendChild(cakeDiv)
     
            newImg.innerHTML = out_img
         
            cakeDiv.classList.add("inp1")
     
         

         
        function Calculator()  {
            var cakePriceOnly = price_cake.childNodes[0].nodeValue.slice(0, 3)
            var kiloValue = ""
            var decorationValue = ""
            var decorationValue2 = ""
            var packageValue = ""
            var deliveryValue = ""

            if(!diameter.checked && !heightCake.checked) {
                kiloValue = 1
            }
            if(!decoration.checked) {
                decorationValue = 0
            }
            if(!decoration2.checked) {
                decorationValue2 = 0
            }
            if(!package.checked) {
                packageValue = 0
            }
            if(!delivery.checked) {
                deliveryValue = 0
            }

            diameter.onchange  = function() {
                

                
                if (diameter.value == "маленький" && heightCake.value == "низький") {
                             kiloValue = 1
                         }
                if (diameter.value == "маленький" && heightCake.value == "середній") {
                             kiloValue = 1.5
                         }
                if (diameter.value == "маленький" && heightCake.value == "високий") {
                             kiloValue = 2
                         }
                if (diameter.value == "середній" && heightCake.value == "низький") {
                             kiloValue = 1.5
                         }
                if (diameter.value == "середній" && heightCake.value == "середній") {
                             kiloValue = 2
                         }
                if (diameter.value == "середній" && heightCake.value == "високий") {
                             kiloValue = 2.5
                         }
                if (diameter.value == "великий" && heightCake.value == "низький") {
                             kiloValue = 2
                         }
                if (diameter.value == "великий" && heightCake.value == "середній") {
                             kiloValue = 3
                         }
                if (diameter.value == "великий" && heightCake.value == "високий") {
                             kiloValue = 4
                         }
                Result()
            }

            heightCake.onchange  = function() {
                if (diameter.value == "маленький" && heightCake.value == "низький") {
                             kiloValue = 1
                         }
                if (diameter.value == "маленький" && heightCake.value == "середній") {
                             kiloValue = 1.5
                         }
                if (diameter.value == "маленький" && heightCake.value == "високий") {
                             kiloValue = 2
                         }
                if (diameter.value == "середній" && heightCake.value == "низький") {
                             kiloValue = 1.5
                         }
                if (diameter.value == "середній" && heightCake.value == "середній") {
                             kiloValue = 2
                         }
                if (diameter.value == "середній" && heightCake.value == "високий") {
                             kiloValue = 2.5
                         }
                if (diameter.value == "великий" && heightCake.value == "низький") {
                             kiloValue = 2
                         }
                if (diameter.value == "великий" && heightCake.value == "середній") {
                             kiloValue = 3
                         }
                if (diameter.value == "великий" && heightCake.value == "високий") {
                             kiloValue = 4
                         }
                Result()
            }
            decoration.onchange  = function() {   
                if (decoration.value == "крем, глазур") {
                            decorationValue = 100
                        }
                if (decoration.value == "тематичні прикраси") {
                            decorationValue = 300
                        }
                if (decoration.value == "сезонні фрукти, ягоди") {
                            decorationValue = 120
                        }
                if (decoration.value == "немає") {
                            decorationValue = 0
              }
              
              Result()
             }
             decoration2.onchange  = function() {   
                if (decoration2.value == "неїстівна фігура") {
                            decorationValue2 = 50
                       }
                        if (decoration2.value == "топер з кулями") {
                            decorationValue2 = 120
                        }
                        if (decoration2.value == "топер з дерева") {
                            decorationValue2 = 60
                        }
                        if (decoration2.value == "топер з картону") {
                            decorationValue2 = 30
                        }
                        if (decoration2.value == "топер з вогниками") {
                            decorationValue2 = 140
                        }
                        if (decoration2.value == "святкова свічка") {
                            decorationValue2 = 60
                        }
                        if (decoration2.value == "немає") {
                            decorationValue2 = 0
                        }
                        
                        Result()
             }
             package.onchange  = function() {   
                if (package.value == "звичайне") {
                           packageValue = 0
                       }
                       if (package.value == "тематичне") {
                           if (kiloValue <=3) {
                             packageValue = 50
                           }
                           else if (kiloValue > 3) {
                             packageValue = 70
                           }
                       }
                       
                       Result()
             }
             delivery.onchange  = function() {   
                if (delivery.value == "самовивоз") {
                            deliveryValue = 0
                        }
                        if (delivery.value == "доставка по місту") {
                            deliveryValue = 80
                        }
                        if (delivery.value == "доставка по області") {
                            deliveryValue = 120
                        }
                        Result()
             }
             
             function Result() {
              //  if(diameter.selected() && heightCake.selected() && decoration.selected() && decoration2.selected() && package.selected() && delivery.selected()) {
                    var kiloResult = kiloValue * cakePriceOnly
                    console.log(kiloResult)

                     var midiResult = kiloResult + decorationValue 

                     var midiResult2 = midiResult + decorationValue2

                     var midiResult3 = midiResult2 + packageValue



                   var totalResult = midiResult3 + deliveryValue
                   console.log(totalResult);

                   kiloQuant.innerHTML = "Приблизна вага: " + kiloValue + " кг"
                   res.innerHTML = "Приблизна вартість: " + totalResult + " грн"
              //  } else alert("jb,")
                   order_info.style.display = "block"
     

             }
             
             // Закрытие калькулятора 
            minus.onclick = function closeWindowCalc() {
            
            kiloValue = ""
            totalResult = "" 
            kiloQuant.innerHTML = ""
            res.innerHTML = ""



            appendDiv.removeChild(cakeDiv)
            form.style.visibility = "hidden"
            activ.style.display = "none"
            document.body.style.overflow = ""
            
            
            }
            }
        Calculator() 

          appendCake.addEventListener("click",  function openOrder(){
                order_info.style.display = "none"
                action.style.display = "none"

                let orderLocalStorage = localStorage
                
                orderLocalStorage.setItem("nameLocal", cakeName)

                console.log(orderLocalStorage);

                orderLocalStorage.setItem("imgLocal", cakeImg)

                orderLocalStorage.setItem("priceLocal", cakePrice)
                
                let diameterValue = diameter.value
                orderLocalStorage.setItem("diameterLocal", diameterValue)

                let heightValue = heightCake.value
                orderLocalStorage.setItem("heightLocal", heightValue)

                let decorationValue = decoration.value
                orderLocalStorage.setItem("decorationLocal", decorationValue)
               
                let decoration2Value = decoration2.value
                orderLocalStorage.setItem("decoration2Local", decoration2Value)
                
                let packageValue = package.value
                orderLocalStorage.setItem("packageLocal", packageValue)

                let deliveryValue = delivery.value
                orderLocalStorage.setItem("deliveryLocal", deliveryValue)
                
                console.log(orderLocalStorage);

                localStorage.setItem("orderLocalStoradge", orderLocalStorage)


                

               location.href = "order.html"

                
   
         })
         
         
         
             
        
          
         }
    
          
        }
        
    }

    var input = document.getElementById("inp");
var result = document.getElementById("result");
const getRandomLinks = () => {
  const value = input.value;
  result.innerHTML = "";
  fetch(
    "https://ru.wikipedia.org/w/api.php?format=json&action=query&generator=prefixsearch&prop=extracts&exlimit=5&exintro&explaintext&gpslimit=5&gpssearch=" +
      value +
      "&origin=*",
    {
      method: "GET",
    }
  )
    .then((response) => response.json())
    .then((data) => {
      Object.keys(data.query.pages).map(function (key) {
        const { title } = data.query.pages[key];
        const li = document.createElement("li");
        const text = li.textContent;
        li.textContent = "";
        const a = document.createElement("a");
        a.href = `https://en.wikipedia.org/wiki/${title}`;
        a.setAttribute("target", "_blank");
        a.textContent = text;
        a.innerHTML = `${title}`;
        li.appendChild(a);
        result.appendChild(li);
      });
    });
};

getRandomLinks();
    
       
    

    
           
          
    
        
    
       


 
    
    
    
 


    


     
    

     
    
     
      
    

       

    
    



